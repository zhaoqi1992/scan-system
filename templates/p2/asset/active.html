<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css"
	href="/static/js/libs/bootstrap-treeview-master/dist/bootstrap-treeview.min.css" />
<script type="text/javascript"
	src="/static/js/libs/bootstrap-treeview-master/dist/bootstrap-treeview.min.js"></script>
<script type="text/javascript" src="/static/js/apps/p2/asset/active.js"></script>

<div class="row">
	<div class="col-xs-12 sdk-content-select">
		<span><i class="fa fa-home"></i> </span><span
			class="sdk-content-select-n">&nbsp;DATAFRIENDS&nbsp;&nbsp;|&nbsp;
			&nbsp;</span><span class="sdk-content-select-e">资产发现 > 主动发现</span> <span
			style="float: right;" class="form-inline"> </span>
	</div>
</div>
<div class="row">
	<div class="col-xs-2" id="content-menu"></div>
	<div class="col-xs-10" style="min-height: 760px;">
		<div class="container-fluid">
			<div class="row">
				<div class="panel panel-default">
					<div class="panel-heading">新建主动发现</div>
					<div class="panel-body">
						<div class="container-fluid">
							<div class="form-horizontal">
								<form name="urlform" id="urlform" method="post"
									enctype="multipart/form-data"
									action="">
									<div class="form-group">
										<label for="name" class="col-sm-2 control-label">扫描名称</label>
										<div class="col-sm-10 form-right">
											<input type="text" class="form-control" id="name" name="name"
												placeholder="扫描名称，必填">
										</div>
									</div>
									<div class="form-group">
										<label for="target" class="col-sm-2 control-label">扫描目标</label>
										<div class="col-sm-10 form-right">
											<textarea rows="" cols="" id="target"
												placeholder="按行输入,请每行输入一个IP/域名/网段" class="form-control" name="target"></textarea>
											<div style="margin-top: 10px;">
											    <!--扫描目标,与文件上传2选1. -->
												<input type="file" name="file" id="file" value=""/>
											</div>
										</div>
									</div>
									
									<div class="form-group">
										<label for="engine" class="col-sm-2 control-label">扫描引擎</label>
										<div class="col-sm-10 form-right">
											<input type="hidden" id="scanner_type" name="scanner_type" value="">
											<input type="hidden" id="scanner" name="scanner" value="">
											<div class="row" id="engine_div"></div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">高级配置</label>
										<div class="col-sm-10 form-right" style="margin-top: 7px;">
											<a href="javascript:void(0);"
												onclick="changeSet('advance_config');"><span
												id="advance_config_button">设置&nbsp;<b>+</b> </span> </a>
											<div id="advance_config_div">
												<div class="form-group">
													<label for="prot_s" class="col-sm-3 control-label">扫描端口</label>
													<div class="col-sm-9 form-right">
														<div class="input-group">
															<input type="hidden" id="port" name="port" value="">
															<input type="text" class="form-control" id="port_s"
																value="1" onkeyup="value=value.replace(/[^\d]/g,'')">
															<div class="input-group-addon">到</div>
															<input type="text" class="form-control" id="port_e"
																value="65536" onkeyup="value=value.replace(/[^\d]/g,'')">
														</div>
													</div>
												</div>
												<div class="form-group">
													<label for="nmap" class="col-sm-3 control-label">扫描完成发送到</label>
													<div class="col-sm-9">
														<input type="text" class="form-control" id="alert_email" name="alert_email"
															placeholder="邮箱，选填" style="max-width: 300px;">
													</div>
												</div>
												<div class="form-group">
													<label for="nmap" class="col-sm-3 control-label">nmap参数</label>
													<div class="col-sm-9">
														<input type="text" class="form-control" id="nmap_param" name="nmap_param"
															placeholder="nmap参数，选填" style="max-width: 300px;">
													</div>
												</div>
												<div class="form-group">
													<label for="nmapscript" class="col-sm-3 control-label">nmap_script</label>
													<div class="col-sm-9">
														<input type="text" class="form-control" id="nmap_script" name="nmap_script"
															placeholder="nmap_script，选填,注意脚本名中不能出现.号" style="max-width: 300px;">
													</div>
												</div>
												<div class="form-group">
													<label for="timespan" class="col-sm-3 control-label">扫描时间范围</label>
													<div class="col-sm-9">
														<input type="hidden" id="scan_time" name="scan_time" value="">
														<div class="input-group">
															<div class="input-group-addon">从</div>
															<input type="text" class="form-control" id="timespan_s"
																value="0" onkeyup="value=value.replace(/[^\d]/g,'')">
															<div class="input-group-addon">到</div>
															<input type="text" class="form-control" id="timespan_e"
																value="23" onkeyup="value=value.replace(/[^\d]/g,'')">
															<div class="input-group-addon">点可以扫描</div>
														</div>
													</div>
												</div>
												<div class="form-group">
													<label for="repeat" class="col-sm-3 control-label">重复任务</label>
													<div class="col-sm-9 ">
														<div class="input-group">
															<div class="input-group-addon">扫描完成后隔</div>
															<input type="text" class="form-control" id="interval" name="interval" onkeyup="value=value.replace(/[^\d]/g,'')">
															<div class="input-group-addon">小时重新启动,非重复不填写</div>
														</div>
													</div>
												</div>
												<div class="form-group">
													<label for="wblist" class="col-sm-3 control-label">白名单/黑名单</label>
													<div class="col-sm-9 form-right">
														<input type="hidden" id="black_or_white" value="white" name="black_or_white">
														<div class="btn-group" role="group" data-toggle="buttons">
															<label class="btn btn-default active"> <input
																type="radio" name="wblist" value="white">白名单 </label> <label
																class="btn btn-default"> <input type="radio" name="wblist"
																value="black">黑名单</label>
														</div>
														<div style="margin-top: 10px;">
															<textarea rows="8" cols="5" class="form-control" id="wblist" name="wbcontent"
																placeholder="白名单/黑名单，必填,多个用逗号隔开" text="白名单/黑名单，必填,多个用逗号隔开"></textarea>
															<span style="color: red;">请每行输入一个‘端口’或‘IP:端口’</span>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>

									<div class="form-group">
										<div class="col-sm-offset-2 col-sm-10">
											<a class="btn btn-default" style="width: 100px;"
												onclick="newactive();">提交</a>
										</div>
									</div>

									<!-- modal : 配置引擎 -->
									<div class="modal fade" id="setEngine" tabindex="-1"
										role="dialog" aria-hidden="true" data-backdrop="false">
										<div class="modal-dialog">
											<div class="modal-content">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal"
														aria-label="close">
														<span aria-hidden="true">&times;</span>
													</button>
													<h4 class="modal-title">
														配置引擎<span id="engine_now_p"></span>-<span
															id="engine_now_c"></span>
													</h4>
												</div>
												<div class="modal-body ">
													<div class="form-horizontal">
														<input type="hidden" id="engineid" value="">
														<div id="hidden_content"></div>
														<div class="form-group" id="strategydiv">
															<label for="threadnum" class="col-xs-2 control-label">线程数量</label>
															<div class="col-xs-8">
																<input type="text" class="form-control" id="threadnum"
																	placeholder="线程数量">
															</div>
														</div>
														<div class="form-group ">
															<label for="bandwidth" class="col-xs-2 control-label">线程带宽</label>
															<div class="col-xs-8">
																<input type="text" class="form-control" id="bandwidth"
																	placeholder="线程带宽,单线程最大带宽,M为单位">
															</div>
														</div>
													</div>

												</div>
												<div class="modal-footer">
													<button type="button" class="btn btn-primary "
														onclick="updateEngine();">提交</button>
													<button type="button" class="btn btn-default"
														data-dismiss="modal" id="update-sdk-cancle">取消</button>
												</div>
											</div>
										</div>
									</div>
									<!-- modal结束 -->
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>